<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜ç©ºåŸç‰ˆç”Ÿå­˜æœåŠ¡å™¨</title>
    <link rel="apple-touch-icon" href="image/icon.png" sizes="180x180">
    <link rel="icon" href="image/icon.png" sizes="32x32" type="image/png">
    <link rel="icon" href="image/icon.png" sizes="16x16" type="image/png">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <style>
        :root {
            --accent-color: #f39c12;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc;
            color: #334155;
        }
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #e2e8f0;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb {
            background: #94a3b8;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
        }
        #navbar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background-color: rgba(255, 255, 255, 0.93);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            padding-top: 1rem;
            padding-bottom: 1rem;
            z-index: 50;
            transition: top 0.3s ease-in-out;
        }
        .navbar-content {
            width: 100%;
            margin-left: auto;
            margin-right: auto;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            row-gap: 0.75rem;
        }

        @media (min-width: 768px) {
            .navbar-content {
                flex-direction: row;
                column-gap: 2rem;
                row-gap: 0;
            }
        }

        .nav-link {
            color: black;
            font-size: 1.125rem;
            font-weight: 500;
            transition-property: color;
            transition-duration: 300ms;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        }
        .nav-link:hover {
            color: var(--accent-color);
        }
        .nav-link.active {
            color: var(--accent-color) !important;
            border-bottom: 2px solid var(--accent-color);
            padding-bottom: 0.25rem;
            transition: all 0.3s ease-in-out;
        }
        .list-style {
            list-style-type: disc;
            list-style-position: inside;
            margin-bottom: 1.5rem;
            line-height: 1.5;
            color: #374151;
        }
        .list-item-strong {
            color: rgba(34, 197, 94, 1);
        }
        .code-snippet {
            background-color: #e2e8f0;
            padding: 0.25rem 0.5rem;
            border-radius: 0.25rem;
            font-family: monospace;
            font-size: 0.875rem;
            color: #334155;
        }
        .content-link {
            color: #2563eb;
            text-decoration: none;
            transition: color 0.3s ease;
        }
        .content-link:hover {
            text-decoration: underline;
            color: #1d4ed8;
        }

        .feature-item {
            padding: 1.5rem 0;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        .feature-item:last-child {
            border-bottom: none;
        }
        .feature-item h3 {
            font-size: 1.5rem;
            margin-bottom: 0.5rem;
            color: #10b981;
        }
        .feature-item p {
            font-size: 1rem;
            color: #475569;
        }
        .content-section-wrapper {
            background-color: white;
            padding: 2rem;
            margin-bottom: 2rem;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }
        #buildIdeaInput {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid #cbd5e0;
            border-radius: 0.375rem;
            background-color: #f8fafc;
            color: #334155;
            resize: vertical;
            min-height: 80px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }
        #buildIdeaInput:focus {
            outline: none;
            border-color: #2563eb;
            box-shadow: 0 0 0 2px rgba(37, 99, 235, 0.2);
        }
        #buildIdeaOutput {
            background-color: #f0f4f8;
            padding: 1rem;
            border-radius: 0.375rem;
            border: 1px solid #e2e8f0;
            min-height: 100px;
            text-align: left;
            white-space: pre-wrap;
            font-size: 1rem;
            color: #475569;
        }
        .loading-spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-left-color: #2563eb;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        .main-footer {
            background-color: #111827;
            color: white;
            text-align: center;
            padding-top: 1.5rem;
            padding-bottom: 1.5rem;
            margin-top: 2rem;
            box-shadow: inset 0 2px 4px 0 rgba(0, 0, 0, 0.06);
        }
        .footer-text-sm {
            font-size: 0.875rem;
            margin-bottom: 0.5rem;
        }
        .footer-links-container {
            display: flex;
            justify-content: center;
            column-gap: 1rem;
            margin-bottom: 0.5rem;
        }
        .footer-link {
            color: gray;
            transition-property: color;
            transition-duration: 300ms;
            transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
        }
        .footer-link:hover {
            color: black;
        }
        .footer-by-text {
            font-size: 0.75rem;
            color: #6b7280;
        }

    </style>
</head>
<body>
    <nav id="navbar">
        <div class="navbar-content">
            <a href="#home" class="nav-link">å…³äºæˆ‘ä»¬</a>
            <a href="#features" class="nav-link">æœåŠ¡å™¨ç‰¹ç‚¹</a>
            <a href="#mingkong" class="nav-link">æ˜ç©ºå¨˜</a>
            <a href="#status" class="nav-link">æœåŠ¡å™¨çŠ¶æ€</a>
            <a href="#contact" class="nav-link">è”ç³»æˆ‘ä»¬</a>
            <a href="#join" class="nav-link">åŠ å…¥æœåŠ¡å™¨</a>
            <a href="zanzhu.html" class="nav-link">èµåŠ©æˆ‘ä»¬</a>
        </div>
    </nav>

    <main class="container mx-auto p-4 md:p-8">
        <section id="home" class="content-section content-section-wrapper text-center">
            <h1 class="text-4xl md:text-6xl font-extrabold text-gray-800 mb-4 leading-tight">
                æ¬¢è¿æ¥åˆ°ã€Šæˆ‘çš„ä¸–ç•Œã€‹æ˜ç©ºåŸç‰ˆç”Ÿå­˜æœ
            </h1>
            <p class="text-lg md:text-xl text-gray-600 mb-8">
                æˆ‘ä»¬çƒ­çˆ±Minecraftï¼Œçƒ­çˆ±ç”Ÿå­˜ï¼Œçƒ­çˆ±åˆ›é€ ï¼Œçƒ­çˆ±è¿™ä¸ªæ¸¸æˆã€‚
            </p>
            <div class="flex flex-col md:flex-row justify-center items-center gap-4">
                <button id="copyIpButton" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full transition duration-300 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50">
                    å¤åˆ¶æœåŠ¡å™¨åŸŸå
                </button>
                <a href="#join" class="bg-blue-500 hover:bg-blue-600 text-white font-bold py-3 px-8 rounded-full transition duration-300 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50">
                    å¦‚ä½•åŠ å…¥æœåŠ¡å™¨
                </a>
            </div>
            <p id="ipAddress" class="text-xl text-gray-500 mt-6 select-all">mc.hnb.ink</p>
            <div id="copyMessage" class="mt-4 text-green-600 opacity-0 transition-opacity duration-300">åŸŸåå·²å¤åˆ¶ï¼</div>
        </section>

        <section id="features" class="content-section content-section-wrapper">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-800 text-center mb-8">æœåŠ¡å™¨ç‰¹è‰²</h2>
            <div class="space-y-0">
                <div class="feature-item">
                    <h3 class="font-semibold">ç”Ÿå­˜æ¨¡å¼</h3>
                    <p>ä½“éªŒåŸæ±åŸå‘³çš„ç”Ÿå­˜æŒ‘æˆ˜ï¼Œå»ºé€ ä½ çš„æ¢¦æƒ³å®¶å›­ï¼Œæ¢ç´¢å¹¿é˜”çš„ä¸–ç•Œã€‚</p>
                </div>
                <div class="feature-item">
                    <h3 class="font-semibold">åŸç‰ˆçº¢çŸ³ç”Ÿç”µ</h3>
                    <p>äº«å—å»ºé€ æœºå™¨çš„æ„Ÿè§‰ï¼Œå¯¹æœºå™¨çš„æˆåŠŸè¿è¡Œæ„Ÿåˆ°éª„å‚²</p>
                </div>
                <div class="feature-item">
                    <h3 class="font-semibold">å‹å¥½çš„ç©å®¶</h3>
                    <p>å‹å¥½çš„ç©å®¶ç¾¤ä½“ï¼Œç»“è¯†æ–°æœ‹å‹ã€‚</p>
                </div>
                <div class="feature-item">
                    <h3 class="font-semibold">ç¨³å®šè¿è¡Œ</h3>
                    <p>
                        é‡‡ç”¨äº†ä¸€é¢—i9-14900Kçš„CPUï¼Œå¼ºå¤§çš„ä¸»é¢‘å¸¦æ¥æè‡´çš„æµç•…ä½“éªŒï¼
                    </p>
                </div>
                <div class="feature-item">
                    <h3 class="font-semibold">å…¬æ­£æ¸¸æˆ</h3>
                    <p>å‚è€ƒç°å®æ°‘ä¸»åˆ¶åº¦ï¼Œç©å®¶æ‹¥æœ‰æ›´å¤šæƒåˆ©</p>
                    <p class="text-gray-600 text-sm mt-1"><del>ï¼ˆå‡çš„!!!!!!ï¼‰</del></p>
                </div>
                <div class="feature-item">
                    <h3 class="font-semibold">æŒç»­æ›´æ–°</h3>
                    <p>ä¸æ–­æ·»åŠ æ–°å†…å®¹ã€æ–°ç©æ³•ï¼Œä¿æŒæœåŠ¡å™¨çš„æ´»åŠ›ã€‚</p>
                </div>
            </div>
        </section>

        <section id="mingkong" class="content-section content-section-wrapper text-center">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6">ä¸aiæ˜ç©ºå¨˜å¯¹è¯</h2>
            <p class="text-gray-600 mb-4">è¾“å…¥ä¸€ä¸ªå…³äºæˆ‘çš„ä¸–ç•Œçš„é—®é¢˜</p>
            <p class="text-red-600 mb-4">æ³¨æ„ï¼šè‹¥æƒ³ä½¿ç”¨è¯·å…ˆç¡®ä¿æ­£å¤„äºå¤–ç½‘ç¯å¢ƒæˆ–å¤„äºé™¤é¦™æ¸¯æ¾³é—¨ä»¥åŠéæ´²è¯¸å›½å¤–çš„åœ°åŒº/å›½å®¶</p>
            <textarea id="buildIdeaInput" placeholder="è¯·è¾“å…¥æ–‡æœ¬" class="mb-4"></textarea>
            <button id="generateIdeaButton" class="bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-8 rounded-full transition duration-300 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50">
                å¼€å§‹!
            </button>
            <div id="loadingSpinner" class="hidden mt-6">
                <div class="loading-spinner"></div>
                <p class="text-gray-500 mt-2">æ­£åœ¨ç”Ÿæˆä¸­ï¼Œè¯·ç¨å€™...</p>
            </div>
            <div id="buildIdeaOutput" class="mt-6 text-gray-700 hidden">
            </div>
            <div id="errorMessage" class="mt-4 text-red-500 hidden">
                æŠ±æ­‰ï¼Œç”Ÿæˆçµæ„Ÿæ—¶å‡ºç°é”™è¯¯ã€‚è¯·ç¨åå†è¯•ã€‚
            </div>
        </section>

        <section id="status" class="content-section content-section-wrapper text-center">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-800 mb-6">æœåŠ¡å™¨çŠ¶æ€</h2>
            <div class="flex flex-col md:flex-row justify-center items-center gap-6">
                <div class="bg-gray-50 p-6 rounded-lg w-full md:w-1/2 lg:w-1/3 border border-gray-200">
                    <p class="text-gray-500 text-lg mb-2">å½“å‰çŠ¶æ€:</p>
                    <p id="serverStatus" class="text-3xl font-bold text-green-500">åœ¨çº¿</p>
                </div>
                <div class="bg-gray-50 p-6 rounded-lg w-full md:w-1/2 lg:w-1/3 border border-gray-200">
                    <p class="text-gray-500 text-lg mb-2">åœ¨çº¿ç©å®¶:</p>
                    <p id="playerCount" class="text-3xl font-bold text-blue-500">åŠ è½½ä¸­...</p>
                </div>
            </div>
            <button id="refreshStatusButton" class="mt-8 bg-green-500 hover:bg-green-600 text-white font-bold py-3 px-6 rounded-full transition duration-300 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-opacity-50">
                åˆ·æ–°çŠ¶æ€
            </button>
            <div id="player-count-chart" class="mt-8 h-80 w-full text-left">
                <p class="text-gray-500 text-center">åŠ è½½å›¾è¡¨ä¸­...</p>
            </div>
        </section>

        <section id="contact" class="content-section content-section-wrapper">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-800 text-center mb-8">å¦‚ä½•è”ç³»æˆ‘ä»¬</h2>
            <div class="space-y-6 text-gray-600 text-lg">
                <p>å…¶å®è”ç³»æˆ‘ä»¬éå¸¸ç®€å•ï¼š</p>
                <div class="space-y-3">
                    <div>
                        <strong>QQç¾¤</strong><br>
                        855713559<br>
                        ğŸ‹ æ˜ç©ºç”Ÿå­˜1.21.4 | å³å°†æ›´æ–°1.21.7ï¼<br>
                    </div>                      
                </div>
            </div>
        </section>

        <section id="join" class="content-section content-section-wrapper">
            <h2 class="text-3xl md:text-4xl font-bold text-gray-800 text-center mb-8">å¦‚ä½•è¿›å…¥æœåŠ¡å™¨ï¼Ÿ</h2>
            <div class="space-y-6 text-gray-600 text-lg">
                <p>åŠ å…¥æˆ‘ä»¬çš„æœåŠ¡å™¨éå¸¸ç®€å•ï¼Œè¯·æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤æ“ä½œï¼š</p>
                    <ul class="list-style">
                        <li><strong class="list-item-strong">æœåŠ¡å™¨åœ°å€ï¼š</strong><code class="code-snippet">mc.mc2333.xyz:20000</code>
                        <span><code class="code-snippet">hnb.ink</code></span>
                        <span><code class="code-snippet">mc.hnb.ink</code></span></li>
                        <li><strong class="list-item-strong">æµç¨‹ï¼ˆå–è‡ªç¾¤å…¬å‘Šï¼‰ï¼š</strong> 
                            æœåŠ¡å™¨ç™½åå•
                            <a href="https://docs.qq.com/form/page/DWG9pY056Ump2VFBP" 
                            class="content-link"><strong>å®¡æ ¸è¡¨</strong></a>
                            å¡«å®Œå, å»æ‰¾ç¾¤ä¸­å®¡æ ¸å‘˜(3642329391) è¦æ¿€æ´»ç å³å¯ã€‚
                        </li>
                        <li><strong class="list-item-strong">ä½ è¿˜ä¸ä¼šï¼Ÿï¼š</strong><a href="https://www.bilibili.com/video/BV1YfFgeVE5C/" class="content-link">ç‚¹å‡»æŸ¥çœ‹æ•™ç¨‹</a></li>
                    </ul>
                <p class="mt-6 text-center text-gray-500">å¦‚æœæ‚¨åœ¨åŠ å…¥è¿‡ç¨‹ä¸­é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œè¯·è”ç³»æˆ‘ä»¬çš„ç®¡ç†å‘˜å¯»æ±‚å¸®åŠ©ã€‚</p>
            </div>
        </section>
    </main>

    <footer class="bg-gray-100 py-6 px-4 md:px-8 text-center text-gray-600 text-sm border-t border-gray-200">
        <p>&copy; 2025 æˆ‘çš„ä¸–ç•ŒæœåŠ¡å™¨. ä¿ç•™æ‰€æœ‰æƒåˆ©ã€‚</p>
        <div class="footer-links-container">
            <a href="ys.html" class="footer-link">éšç§æ”¿ç­–</a>
            <span>|</span>
            <a href="zanzhu.html" class="footer-link">èµåŠ©æˆ‘ä»¬</a>
            <span>|</span>
            <a href="oldest.html" class="footer-link">ä»Šå¹´å½©è›‹</a>
        </div>
        <h6 class="mt-2">web by <a href="https://github.com/poop114514">A181</a></h6>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const ipAddressElement = document.getElementById('ipAddress');
            const copyIpButton = document.getElementById('copyIpButton');
            const copyMessage = document.getElementById('copyMessage');
            const serverStatusElement = document.getElementById('serverStatus');
            const playerCountElement = document.getElementById('playerCount');
            const refreshStatusButton = document.getElementById('refreshStatusButton');

            const buildIdeaInput = document.getElementById('buildIdeaInput');
            const generateIdeaButton = document.getElementById('generateIdeaButton');
            const loadingSpinner = document.getElementById('loadingSpinner');
            const buildIdeaOutput = document.getElementById('buildIdeaOutput');
            const errorMessage = document.getElementById('errorMessage');

            const serverIp = ipAddressElement.textContent;

            copyIpButton.addEventListener('click', () => {
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(serverIp).then(() => {
                        copyMessage.classList.remove('opacity-0');
                        copyMessage.classList.add('opacity-100');
                        setTimeout(() => {
                            copyMessage.classList.remove('opacity-100');
                            copyMessage.classList.add('opacity-0');
                        }, 2000);
                    }).catch(err => {
                        console.error('Failed to copy text:', err);
                        fallbackCopyTextToClipboard(serverIp);
                    });
                } else {
                    fallbackCopyTextToClipboard(serverIp);
                }
            });

            function fallbackCopyTextToClipboard(text) {
                const textArea = document.createElement("textarea");
                textArea.value = text;
                textArea.style.position = "fixed";
                textArea.style.left = "-999999px";
                textArea.style.top = "-999999px";
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                try {
                    const successful = document.execCommand('copy');
                    if (successful) {
                        copyMessage.classList.remove('opacity-0');
                        copyMessage.classList.add('opacity-100');
                        setTimeout(() => {
                            copyMessage.classList.remove('opacity-100');
                            copyMessage.classList.add('opacity-0');
                        }, 2000);
                    } else {
                        console.error('Fallback: Failed to copy text');
                    }
                } catch (err) {
                    console.error('Fallback: Error copying text', err);
                }
                document.body.removeChild(textArea);
            }

            generateIdeaButton.addEventListener('click', async () => {
                const theme = buildIdeaInput.value.trim();
                if (!theme) {
                    buildIdeaOutput.textContent = 'è¯·è¾“å…¥æ–‡æœ¬ï¼';
                    buildIdeaOutput.classList.remove('hidden');
                    return;
                }

                loadingSpinner.classList.remove('hidden');
                buildIdeaOutput.classList.add('hidden');
                errorMessage.classList.add('hidden');
                generateIdeaButton.disabled = true;

                try {
                    const prompt = `ä½ æ˜¯ä¸€ä¸ªå«æ˜ç©ºå¨˜çš„å°‘å¥³ï¼Œä½ å¯ä»¥å›ç­”å…³äºæˆ‘çš„ä¸–ç•Œçš„é—®é¢˜ï¼Œå›ç­”è¯­æ°”è¦è½»æŸ”ï¼Œè¯·ç”¨ä¸­æ–‡å›ç­”ï¼Œå†…å®¹åœ¨100-200å­—ä¹‹é—´ï¼š"${theme}"`;
                    let chatHistory = [];
                    chatHistory.push({ role: "user", parts: [{ text: prompt }] });
                    const payload = { contents: chatHistory };
                    const apiKey = "AIzaSyBHE30CftpeYmByjMcVufNLrYSXtWw4b8g";
                    const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=${apiKey}`;

                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    const result = await response.json();

                    if (result.candidates && result.candidates.length > 0 &&
                        result.candidates[0].content && result.candidates[0].content.parts &&
                        result.candidates[0].content.parts.length > 0) {
                        const text = result.candidates[0].content.parts[0].text;
                        buildIdeaOutput.textContent = text;
                        buildIdeaOutput.classList.remove('hidden');
                    } else {
                        errorMessage.classList.remove('hidden');
                        console.error('Gemini API returned an unexpected response structure:', result);
                    }
                } catch (error) {
                    errorMessage.classList.remove('hidden');
                    console.error('Error calling Gemini API:', error);
                } finally {
                    loadingSpinner.classList.add('hidden');
                    generateIdeaButton.disabled = false;
                }
            });

            const initializeChart = () => {
                const serverIp = 'hnb.ink';

                const fetchDataAndUpdateStatus = async () => {
                    serverStatusElement.textContent = 'åŠ è½½ä¸­...';
                    serverStatusElement.classList.remove('text-green-500', 'text-red-500');
                    playerCountElement.textContent = 'åŠ è½½ä¸­...';

                    try {
                        const response = await fetch(`https://api.mcsrvstat.us/3/${serverIp}`);
                        if (!response.ok) {
                            throw new Error(`HTTP error! status: ${response.status}`);
                        }
                        const data = await response.json();

                        if (data.online) {
                            serverStatusElement.textContent = 'åœ¨çº¿';
                            serverStatusElement.classList.remove('text-red-500');
                            serverStatusElement.classList.add('text-green-500');
                            playerCountElement.textContent = `${data.players.online}/${data.players.max || '?'}`;
                            return data.players.online;
                        } else {
                            serverStatusElement.textContent = 'ç¦»çº¿';
                            serverStatusElement.classList.remove('text-green-500');
                            serverStatusElement.classList.add('text-red-500');
                            playerCountElement.textContent = `0/${data.players.max || '?'}`;
                            return 0;
                        }
                    } catch (error) {
                        console.error("Error fetching player count:", error);
                        serverStatusElement.textContent = 'ç¦»çº¿';
                        serverStatusElement.classList.remove('text-green-500');
                        serverStatusElement.classList.add('text-red-500');
                        playerCountElement.textContent = '0/0';
                        return 0;
                    }
                };

                if (typeof Highcharts === 'undefined') {
                    console.error("Highcharts is not loaded. Cannot initialize chart.");
                    document.getElementById('player-count-chart').innerHTML = '<p class="text-red-500 text-center">æ— æ³•åŠ è½½å›¾è¡¨ã€‚è¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åå†è¯•ã€‚</p>';
                    return;
                }
                
                document.getElementById('player-count-chart').innerHTML = '';

                Highcharts.chart('player-count-chart', {
                    chart: {
                        type: 'spline',
                        animation: Highcharts.svg,
                        events: {
                            load: function () {
                                const series = this.series[0];
                                setInterval(async () => {
                                    const playerCount = await fetchDataAndUpdateStatus();
                                    const x = (new Date()).getTime() + 8 * 3600 * 1000; 
                                    const y = playerCount;
                                    series.addPoint([x, y], true, true);
                                }, 10000);
                            }
                        },
                        backgroundColor: 'rgba(0,0,0,0)',
                    },
                    title: {
                        text: 'æ˜ç©ºç”Ÿå­˜åœ¨çº¿äººæ•°å®æ—¶ç»Ÿè®¡',
                        style: {
                            color: '#333',
                            fontSize: '1.5rem',
                            fontWeight: 'bold'
                        }
                    },
                    xAxis: {
                        type: 'datetime',
                        tickPixelInterval: 150,
                        labels: {
                            formatter: function () {
                                return Highcharts.dateFormat('%H:%M:%S', this.value);
                            },
                            style: {
                                color: '#555'
                            }
                        },
                        lineColor: '#ccc',
                        tickColor: '#ccc'
                    },
                    yAxis: {
                        title: {
                            text: 'åœ¨çº¿ç©å®¶äººæ•°',
                            style: {
                                color: '#333'
                            }
                        },
                        min: 0,
                        labels: {
                            style: {
                                color: '#555'
                            }
                        },
                        gridLineColor: '#eee'
                    },
                    tooltip: {
                        formatter: function () {
                            return `<b>${Highcharts.dateFormat('%H:%M:%S', this.x)}</b><br/>åœ¨çº¿ç©å®¶äººæ•°: ${this.y}`;
                        },
                        backgroundColor: 'rgba(0, 0, 0, 0.7)',
                        borderColor: '#f39c12',
                        style: {
                            color: '#fff'
                        }
                    },
                    legend: {
                        enabled: false
                    },
                    exporting: {
                        enabled: false
                    },
                    credits: {
                        enabled: false
                    },
                    series: [{
                        name: 'åœ¨çº¿ç©å®¶äººæ•°',
                        data: (function () {
                            const data = [];
                            const time = (new Date()).getTime() + 8 * 3600 * 1000;
                            for (let i = -19; i <= 0; i++) {
                                data.push({
                                    x: time + i * 10000,
                                    y: 0
                                });
                            }
                            return data;
                        }()),
                        color: '#28a745',
                        marker: {
                            enabled: false
                        }
                    }]
                });
                fetchDataAndUpdateStatus();
            };

            initializeChart();

            refreshStatusButton.addEventListener('click', () => {
                const chart = Highcharts.charts.find(c => c.renderTo.id === 'player-count-chart');
                if (chart) {
                    chart.series[0].addPoint([(new Date()).getTime() + 8 * 3600 * 1000, chart.series[0].points[chart.series[0].points.length - 1].y], true, true);
                    const fetchDataAndUpdateStatusForRefresh = async () => {
                        serverStatusElement.textContent = 'åŠ è½½ä¸­...';
                        serverStatusElement.classList.remove('text-green-500', 'text-red-500');
                        playerCountElement.textContent = 'åŠ è½½ä¸­...';
                        const serverIp = 'hnb.ink';
                        try {
                            const response = await fetch(`https://api.mcsrvstat.us/3/${serverIp}`);
                            if (!response.ok) {
                                throw new Error(`HTTP error! status: ${response.status}`);
                            }
                            const data = await response.json();
                            if (data.online) {
                                serverStatusElement.textContent = 'åœ¨çº¿';
                                serverStatusElement.classList.remove('text-red-500');
                                serverStatusElement.classList.add('text-green-500');
                                playerCountElement.textContent = `${data.players.online}/${data.players.max || '?'}`;
                            } else {
                                serverStatusElement.textContent = 'ç¦»çº¿';
                                serverStatusElement.classList.remove('text-green-500');
                                serverStatusElement.classList.add('text-red-500');
                                playerCountElement.textContent = `0/${data.players.max || '?'}`;
                            }
                        } catch (error) {
                            console.error("Error fetching player count on refresh:", error);
                            serverStatusElement.textContent = 'ç¦»çº¿';
                            serverStatusElement.classList.remove('text-green-500');
                            serverStatusElement.classList.add('text-red-500');
                            playerCountElement.textContent = '0/?';
                        }
                    };
                    fetchDataAndUpdateStatusForRefresh();
                }
            });
        });
                    // å¯¼èˆªæ æ˜¾ç¤º/éšè—é€»è¾‘ (æ»šåŠ¨æ—¶éšè—ï¼Œå‘ä¸Šæ»šåŠ¨æ—¶æ˜¾ç¤º)
                    let prevScrollPos = window.pageYOffset;
            let navbarHeight = navbar.offsetHeight; // åˆå§‹å¯¼èˆªæ é«˜åº¦

            window.onscroll = function() {
                let currentScrollPos = window.pageYOffset;

                // æ›´æ–°å¯¼èˆªæ é«˜åº¦ï¼Œä»¥é˜²å…¶é«˜åº¦å› å†…å®¹å˜åŒ–è€Œæ”¹å˜
                navbarHeight = navbar.offsetHeight;

                if (prevScrollPos < currentScrollPos && currentScrollPos > navbarHeight) {
                    // å‘ä¸‹æ»šåŠ¨ä¸”æ»šåŠ¨è·ç¦»è¶…è¿‡å¯¼èˆªæ é«˜åº¦æ—¶éšè—
                    navbar.style.top = `-${navbarHeight}px`;
                } 
                else if (prevScrollPos > currentScrollPos) {
                    // å‘ä¸Šæ»šåŠ¨æ—¶æ˜¾ç¤º
                    navbar.style.top = "0";
                }

                prevScrollPos = currentScrollPos;
            };

            // å¯¼èˆªé“¾æ¥æ¿€æ´»çŠ¶æ€é€»è¾‘ (ä½¿ç”¨ Intersection Observer)
            const navLinks = document.querySelectorAll('.nav-link');
            // ç¡®ä¿æ‰€æœ‰éœ€è¦è§‚å¯Ÿçš„ section éƒ½æœ‰ 'content-section' ç±»
            const sections = document.querySelectorAll('.content-section[id]');

            const observerOptions = {
                root: null, /* è§†å£ä½œä¸ºæ ¹ */
                rootMargin: '-50% 0px -49% 0px', /* å½“ç›®æ ‡å…ƒç´ ä¸­å¿ƒç‚¹è¿›å…¥è§†å£æ—¶è§¦å‘ */
                threshold: 0 /* ç›®æ ‡å…ƒç´ ä¸€è¿›å…¥æ ¹å…ƒç´ å³å¯è§¦å‘ */
            };

            const observerCallback = (entries, observer) => {
                entries.forEach(entry => {
                    const targetId = entry.target.id;
                    const correspondingNavLink = document.querySelector(`.nav-link[href="#${targetId}"]`);

                    if (correspondingNavLink) {
                        if (entry.isIntersecting) {
                            // ç§»é™¤æ‰€æœ‰é“¾æ¥çš„ active çŠ¶æ€
                            navLinks.forEach(link => link.classList.remove('active'));
                            // ä¸ºå½“å‰è¿›å…¥è§†å£çš„é“¾æ¥æ·»åŠ  active çŠ¶æ€
                            correspondingNavLink.classList.add('active');
                        } 
                    }
                });
            };

            const sectionObserver = new IntersectionObserver(observerCallback, observerOptions);

            // è§‚å¯Ÿæ¯ä¸ªå†…å®¹ section
            sections.forEach(section => {
                sectionObserver.observe(section);
            });

            // é¡µé¢åŠ è½½æ—¶æ ¹æ®URLå“ˆå¸Œå€¼è®¾ç½®åˆå§‹æ¿€æ´»é“¾æ¥
            window.addEventListener('load', () => {
                const currentHash = window.location.hash;
                if (currentHash) {
                    const initialSection = document.querySelector(currentHash);
                    if (initialSection) {
                        navLinks.forEach(link => link.classList.remove('active'));
                        const initialNavLink = document.querySelector(`.nav-link[href="${currentHash}"]`);
                        if (initialNavLink) {
                            initialNavLink.classList.add('active');
                        }
                    }
                } else {
                    // å¦‚æœæ²¡æœ‰å“ˆå¸Œå€¼ï¼Œé»˜è®¤æ¿€æ´»ç¬¬ä¸€ä¸ªå¯è§çš„ section
                    // æ£€æŸ¥ç¬¬ä¸€ä¸ª section æ˜¯å¦åœ¨è§†å£ä¸ŠåŠéƒ¨åˆ†ï¼Œå¦‚æœæ˜¯åˆ™æ¿€æ´»
                    const firstSection = sections[0];
                    if (firstSection && firstSection.getBoundingClientRect().top < window.innerHeight / 2) {
                         navLinks.forEach(link => link.classList.remove('active'));
                         const firstNavLink = document.querySelector(`.nav-link[href="#${firstSection.id}"]`);
                         if (firstNavLink) {
                             firstNavLink.classList.add('active');
                         }
                    }
                }
            });
    </script>
</body>
</html>
